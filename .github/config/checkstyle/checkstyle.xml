<?xml version="1.0"?>
<!DOCTYPE module PUBLIC "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN" "https://checkstyle.org/dtds/configuration_1_3.dtd">

<module name="Checker">

    <!-- Evita warnings de classes geradas pelo Quarkus -->
    <module name="SuppressionFilter">
        <property name="file" value="checkstyle-suppressions.xml" />
    </module>

    <!-- ======================== -->
    <!-- TreeWalker: REGRAS MODERADAS -->
    <!-- ======================== -->
    <module name="TreeWalker">

        <!-- ======== NOMES ======== -->

        <!-- Classes -->
        <module name="TypeName">
            <property name="format" value="^[A-Z][A-Za-z0-9]*$" />
        </module>

        <!-- Métodos -->
        <module name="MethodName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$" />
        </module>

        <!-- Variáveis / campos -->
        <module name="MemberName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$" />
        </module>

        <!-- Parâmetros -->
        <module name="ParameterName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$" />
        </module>

        <!-- Proibir campos públicos mas permitir @Inject em fields -->
        <module name="VisibilityModifier">
            <property name="protectedAllowed" value="true" />
            <property name="publicMemberPattern" value="^$" />
        </module>

        <!-- NÃO BLOQUEAR @Inject -->
        <!-- Antes tinha IllegalAnnotation, removido completamente -->

        <!-- ======== ESTILO ======== -->

        <!-- Indentação moderada -->
        <module name="Indentation">
            <property name="basicOffset" value="4" />
            <property name="braceAdjustment" value="0" />
            <property name="caseIndent" value="4" />
        </module>

        <!-- Linha até 120 colunas -->
        <module name="LineLength">
            <property name="max" value="120" />
        </module>

        <module name="WhitespaceAround" />
        <module name="WhitespaceAfter" />
        <module name="NeedBraces" />

        <!-- ======== IMPORTS ======== -->

        <module name="AvoidStarImport" />
        <module name="UnusedImports" />
        <module name="RedundantImport" />

        <!-- Ordem razoável para Quarkus -->
        <module name="ImportOrder">
            <property name="groups" value="java,javax,jakarta,org,com,io,net,quarkus" />
            <property name="ordered" value="true" />
            <property name="separated" value="true" />
        </module>

        <!-- ======== OBRIGAÇÕES ======== -->

        <!-- NÃO exigir Javadoc -->
        <!-- (simplesmente não incluímos Javadoc* rules) -->

        <module name="MissingSwitchDefault" />

        <module name="ModifierOrder" />

        <module name="AvoidInlineConditionals" />

        <!-- Permitir números mágicos mas com limite -->
        <module name="MagicNumber">
            <property name="ignoreNumbers" value="-1,0,1,2,10,100" />
            <property name="ignoreAnnotation" value="true" />
        </module>

        <module name="EqualsHashCode" />
        <module name="EqualsAvoidNull" />

        <module name="UpperEll" />
    </module>
</module>